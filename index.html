<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="TAFE Interactive Timetabling Application" property="og:title"/>
<meta content="A multi-college, interactive timetabling solution for TAFE NSW with data persistence and class notes." property="og:description"/>
<title>TAFE Interactive Timetabling Application</title>
<style>
.task-actions { display: flex; gap: 0.5rem; flex-wrap: wrap; }
.task-actions button { padding: 0.25rem 0.75rem; font-size: 0.875rem; border-radius: 0.375rem; border: none; cursor: pointer; }
.task-edit-btn { background: #3b82f6; color: white; }
.task-edit-btn:hover { background: #2563eb; }
.task-completed-btn { background: #10b981; color: white; }
.task-completed-btn:hover { background: #059669; }
.task-delete-btn { background: #ef4444; color: white; }
.task-delete-btn:hover { background: #dc2626; }
.task-card { padding: 1rem; border: 1px solid #d1d5db; border-radius: 0.5rem; margin-bottom: 1rem; background: white; }
.task-card.high { border-left: 4px solid #dc2626; background: #fee2e2; }
.task-card.medium { border-left: 4px solid #f59e0b; background: #fef3c7; }
.task-card.low { border-left: 4px solid #10b981; background: #ecfdf5; }
.task-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem; }
.task-title { font-weight: bold; font-size: 1.1rem; color: #1f2937; }
.task-status-badge { display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: bold; }
.task-status-todo { background: #e5e7eb; color: #374151; }
.task-status-inprogress { background: #dbeafe; color: #1e40af; }
.task-status-done { background: #dcfce7; color: #166534; }
.task-status-blocked { background: #fee2e2; color: #991b1b; }
.task-meta { display: flex; gap: 1rem; font-size: 0.875rem; color: #6b7280; margin-bottom: 0.5rem; flex-wrap: wrap; }
.task-description { color: #4b5563; margin-bottom: 0.75rem; }
</style>
</head>
<body>
<div id="tasks-view" style="display: block;">
  <div class="bg-white p-6 rounded-lg shadow-lg">
    <h2 class="text-2xl font-bold mb-2">ğŸ“‹ Task Management</h2>
    <p class="text-gray-600 mb-4">Semester: <span id="tasksSemesterLabel" class="font-bold text-blue-900">Sample</span></p>
    <button class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-6" id="addTaskBtn">+ Add New Task</button>
    <div id="tasks-container"></div>
  </div>
</div>

<script>
// Sample task data
const tasks = [
  { id: 1, title: 'Prepare materials for FSK20119', description: 'Photocopy worksheets and prepare online resources.', teacher: 'JA', course: 'FSK20119', colleges: ['Moss Vale'], priority: 'high', status: 'todo', dueDate: '2024-08-01' },
  { id: 2, title: 'Mark mid-term exams', description: '', teacher: 'MB', course: '11225NAT', colleges: ['Moss Vale'], priority: 'medium', status: 'inprogress', dueDate: '2024-08-15' },
];

function renderTasksView() {
  const container = document.getElementById('tasks-container');
  
  if (tasks.length === 0) {
    container.innerHTML = '<p class="text-center text-gray-500 py-8">No tasks yet. Click "Add New Task" to create one.</p>';
    return;
  }

  let html = '';
  tasks.forEach(task => {
    const statusClass = `task-status-${task.status}`;
    const statusText = task.status === 'inprogress' ? 'In Progress' : (task.status === 'todo' ? 'To Do' : (task.status === 'done' ? 'Done' : 'Blocked'));
    const dueDate = task.dueDate ? new Date(task.dueDate).toLocaleDateString() : 'No due date';
    const collegeDisplay = task.colleges && task.colleges.length > 0 ? task.colleges.join(', ') : 'All Colleges';

    html += `
<div class="task-card ${task.priority}">
  <div class="task-header">
    <div class="task-title">${task.title}</div>
    <span class="task-status-badge ${statusClass}">${statusText}</span>
  </div>
  <div class="task-meta">
    <span>ğŸ‘¤ ${task.teacher || 'Unassigned'}</span>
    <span>ğŸ“š ${task.course || 'Unassigned'}</span>
    <span>ğŸ« ${collegeDisplay}</span>
    <span>ğŸ“… ${dueDate}</span>
    <span>ğŸ¯ ${task.priority.charAt(0).toUpperCase() + task.priority.slice(1)}</span>
  </div>
  ${task.description ? `<div class="task-description">${task.description}</div>` : ''}
  <div class="task-actions">
    <button class="task-edit-btn" onclick="editTask(${task.id})">Edit</button>
    <button class="task-completed-btn" onclick="markCompleted(${task.id})">âœ“ Completed</button>
    <button class="task-delete-btn" onclick="deleteTask(${task.id})">Delete</button>
  </div>
</div>
    `;
  });

  container.innerHTML = html;
}

function markCompleted(taskId) {
  const task = tasks.find(t => t.id === taskId);
  if (task) {
    task.status = 'done';
    renderTasksView();
    alert(`âœ“ Task "${task.title}" marked as completed!`);
  }
}

function editTask(taskId) {
  alert('Edit functionality would open a modal here');
}

function deleteTask(taskId) {
  if (confirm('Are you sure you want to delete this task?')) {
    const index = tasks.findIndex(t => t.id === taskId);
    if (index !== -1) {
      tasks.splice(index, 1);
      renderTasksView();
    }
  }
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
  renderTasksView();
  document.getElementById('addTaskBtn').addEventListener('click', () => {
    alert('Add task functionality would open a modal here');
  });
});
</script>
</body>
</html>
