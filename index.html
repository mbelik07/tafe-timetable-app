<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>TAFE Interactive Timetabling Application</title>
<script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; user-select: none; }
.sidebar { transition: transform 0.3s ease-in-out; }
.sidebar-open { transform: translateX(0) !important; }
.view-container { display: none; }
.view-container.active { display: block; }
.college-tab { padding: 8px 16px; border: 1px solid transparent; border-bottom: none; background: #f3f4f6; color: #4b5563; cursor: pointer; border-radius: 6px 6px 0 0; }
.college-tab.active { background: white; border-color: #d1d5db; border-bottom-color: white; font-weight: bold; color: #1e3a8a; }
.task-alert { background: #fef3c7; border: 2px solid #f59e0b; border-radius: 0.5rem; padding: 1rem; margin-bottom: 1rem; }
.task-badge { position: absolute; top: 2px; left: 2px; background: #3b82f6; color: white; font-size: 10px; padding: 2px 4px; border-radius: 3px; z-index: 25; }
.priority-high { color: #ef4444; font-weight: bold; }
.priority-medium { color: #f59e0b; font-weight: bold; }
.priority-low { color: #10b981; font-weight: bold; }
.priority-dot { display: inline-block; width: 10px; height: 10px; border-radius: 50%; margin-right: 6px; }
.priority-dot.high { background: #ef4444; }
.priority-dot.medium { background: #f59e0b; }
.priority-dot.low { background: #10b981; }
.course-list-item { padding: 12px; margin-bottom: 8px; background: #f3f4f6; border: 2px solid transparent; border-radius: 6px; cursor: pointer; transition: all 0.2s; }
.course-list-item:hover { background: #e5e7eb; }
.course-list-item.active { background: #dbeafe; border-color: #3b82f6; font-weight: bold; }
.print-grid { display: grid; grid-template-columns: 80px repeat(5, 1fr); border: 2px solid #000; }
.print-header { font-weight: bold; text-align: center; padding: 4px; border: 1px solid #999; background: #d9d9d9; font-size: 18px; line-height: 1.2; }
.print-day-header { background: #595959; color: white; }
.print-period-label { display: flex; align-items: center; justify-content: center; text-align: center; font-weight: bold; background: #fde9d9; border: 1px solid #999; font-size: 13px; min-height: 140px; }
.print-cell { border: 1px solid #999; padding: 4px; vertical-align: top; min-height: 140px; }
.print-session { border-radius: 4px; padding: 6px; font-size: 15px; margin-top: 5px; border: 1px solid black; line-height: 1.3; }
.print-session.compulsory { border: 4px solid #ffff00; box-shadow: 0 0 0 1px #ffd700; }
@media print { .task-alert { display: none; } .task-badge { display: none; } }
</style>
</head>
<body class="bg-gray-100">
<div class="sidebar fixed top-0 left-0 h-full w-80 bg-white shadow-lg z-50 -translate-x-full" id="sidebar">
<div class="p-4 bg-blue-900 text-white flex justify-between items-center"><h2 class="text-xl font-bold">Data Hub</h2><button class="text-2xl" id="closeSidebarBtn">Ã—</button></div>
<div class="p-4 space-y-3">
<h3 class="text-lg font-bold text-gray-700 border-b pb-2">Management</h3>
<button class="w-full text-left bg-blue-100 hover:bg-blue-200 p-3 rounded font-semibold" id="manageTasksBtn">ðŸ“‹ Manage Tasks</button>
</div>
</div>
<select class="border border-gray-300 rounded px-3 py-2" id="viewSelector"><option value="main-timetable">Main Timetable</option><option value="task-manager">Task Manager</option></select>
<div id="task-manager-view" class="view-container"></div>
<div class="modal-overlay" id="managementModal"><div class="modal-container"><div class="flex justify-between items-center mb-4"><h2 class="text-2xl font-bold text-blue-900" id="modalTitle">Manage</h2><button class="text-3xl font-bold" id="closeModalBtn">Ã—</button></div><div id="taskAlertContainer"></div><div id="modalContent"></div></div></div>
<script>
let selectedCourseForSubjects = null;
let db = { semesters: { 'Semester 1 2024': { tasks: [] } }, currentSemester: 'Semester 1 2024' };
const getCurrentSemesterData = () => db.semesters[db.currentSemester];
const getPendingTasks = (linkType, linkValue) => getCurrentSemesterData().tasks.filter(t => t.linkType === linkType && t.linkValue === linkValue && t.status === 'Pending');
window.markTaskComplete = (taskId) => { const task = getCurrentSemesterData().tasks.find(t => t.id === taskId); if (task) { task.status = 'Completed'; alert('âœ… Task completed!'); } };
window.viewAllTasks = () => { document.getElementById('viewSelector').value = 'task-manager'; };
document.getElementById('manageTasksBtn')?.addEventListener('click', () => alert('Task modal opens here'));
</script>
</body>
</html>